
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    ViewData["Title"] = "Student Home";
}

<section class="section profile">
    <div class="row">
        <div class="col-sm-8 offset-sm-2">

            <div class="row">
                <div class="col-xl-4">

                    <div class="card">
                        <div class="card-body profile-card pt-4 d-flex flex-column align-items-center">

                            <img src="image/approved/@Model.Student.ImageUrl" alt="Profile" class="rounded-circle">
                        </div>
                    </div>

                </div>

                <div class="col-xl-8">

                    <div class="card">
                        <div class="card-body pt-3">
                            
                            <ul class="nav nav-tabs nav-tabs-bordered">

                                <li class="nav-item">
                                    <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#profile-overview">Overview</button>
                                </li>

                                <li class="nav-item">
                                    <button class="nav-link" data-bs-toggle="tab" data-bs-target="#profile-edit">Edit Profile</button>
                                </li>

                                <li class="nav-item">
                                    <button class="nav-link" data-bs-toggle="tab" data-bs-target="#profile-settings">Card Info</button>
                                </li>

                            </ul>
                            
                            <div class="tab-content pt-2">

                                <partial name="partials/_details" />
                                
                                <partial name="partials/_profileEdit" />
                                
                                <partial name="partials/_card-info" />

                            </div>

                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</section>

@section Scripts {
    <script>
        window.onload = () => {
         // Set The Preview Image During Image Update Request
                (()=>{
                    const fileInput = document.querySelector('.new-img');
                    const previewImage = document.getElementById('previewImg');

                    fileInput.addEventListener('change', function (event) {
                     const file = event.target.files[0];

                        if (file) {
                            const reader = new FileReader();

                            reader.addEventListener('load', function () {
                                previewImage.setAttribute('src', reader.result);
                            });

                            reader.readAsDataURL(file);
                        }
                    });
                })()

               
            var qrcode = new QRCode(document.getElementById("qrcode"), {
                text: "http://jindo.dev.naver.com/collie",
                width: 128,
                height: 128,
                colorDark : "#000000",
                colorLight : "#ffffff",
                correctLevel : QRCode.CorrectLevel.H
            });
  
        }
    </script>
}